{
    "-{}- tags within headlines (within html for parserConvert())": {
        "html2wt": "== -{Naslov}- ==\n\nNote that even an unprotected headline ID is not affected by language\nconversion:\n\n== Latinski ==\n"
    },
    "Link to a section of a variant of this title shouldn't be parsed as self-link": {
        "wt2html": "<p data-parsoid='{\"dsr\":[0,86,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Дуна\" title=\"Дуна\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Дуна\",\"title\":\"Дуна\"},\"sa\":{\"href\":\"Dуна\",\"title\":\"Dуна\"},\"dsr\":[0,11,2,2]}'>Dуна</a> is a self-link while <a rel=\"mw:WikiLink\" href=\"./Дуна#Foo\" title=\"Дуна\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Дуна#Foo\",\"title\":\"Дуна\"},\"sa\":{\"href\":\"Dunа#Foo\",\"title\":\"Dunа\"},\"dsr\":[33,46,2,2]}'>Dunа#Foo</a> and <a rel=\"mw:WikiLink\" href=\"./Дуна#Foo\" title=\"Дуна\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Дуна#Foo\",\"title\":\"Дуна\"},\"sa\":{\"href\":\"Dуна#Foo\",\"title\":\"Dуна\"},\"dsr\":[51,66,2,2]}'>Dуна#Foo</a> are not self-links.</p>",
        "html2html": "<p data-parsoid='{\"dsr\":[0,86,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Дуна\" title=\"Дуна\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Дуна\",\"title\":\"Дуна\"},\"sa\":{\"href\":\"Dуна\",\"title\":\"Dуна\"},\"dsr\":[0,11,2,2]}'>Dуна</a> is a self-link while <a rel=\"mw:WikiLink\" href=\"./Дуна#Foo\" title=\"Дуна\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Дуна#Foo\",\"title\":\"Дуна\"},\"sa\":{\"href\":\"Dunа#Foo\",\"title\":\"Dunа\"},\"dsr\":[33,46,2,2]}'>Dunа#Foo</a> and <a rel=\"mw:WikiLink\" href=\"./Дуна#Foo\" title=\"Дуна\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Дуна#Foo\",\"title\":\"Дуна\"},\"sa\":{\"href\":\"Dуна#Foo\",\"title\":\"Dуна\"},\"dsr\":[51,66,2,2]}'>Dуна#Foo</a> are not self-links.</p>"
    },
    "Link to another existing title shouldn't be parsed as self-link even if it's a variant of this title": {
        "wt2html": "<p data-parsoid='{\"dsr\":[0,84,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Дуна\" title=\"Дуна\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Дуна\"},\"sa\":{\"href\":\"Дуна\"},\"dsr\":[0,12,2,2]}'>Дуна</a> is not a self-link while <a rel=\"mw:WikiLink\" href=\"./Дуна\" class=\"mw-selflink selflink\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Дуна\",\"title\":\"Дуна\"},\"sa\":{\"href\":\"Duna\",\"title\":\"Duna\"},\"dsr\":[38,46,2,2]}'>Duna</a> and <a rel=\"mw:WikiLink\" href=\"./Дуна\" title=\"Дуна\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Дуна\",\"title\":\"Дуна\"},\"sa\":{\"href\":\"Dуна\",\"title\":\"Dуна\"},\"dsr\":[51,62,2,2]}'>Dуна</a> are still self-links.</p>",
        "html2html": "<p data-parsoid='{\"dsr\":[0,84,0,0]}'><a rel=\"mw:WikiLink\" href=\"./Дуна\" title=\"Дуна\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Дуна\"},\"sa\":{\"href\":\"Дуна\"},\"dsr\":[0,12,2,2]}'>Дуна</a> is not a self-link while <a rel=\"mw:WikiLink\" href=\"./Дуна\" class=\"mw-selflink selflink\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Дуна\",\"title\":\"Дуна\"},\"sa\":{\"href\":\"Duna\",\"title\":\"Duna\"},\"dsr\":[38,46,2,2]}'>Duna</a> and <a rel=\"mw:WikiLink\" href=\"./Дуна\" title=\"Дуна\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Дуна\",\"title\":\"Дуна\"},\"sa\":{\"href\":\"Dуна\",\"title\":\"Dуна\"},\"dsr\":[51,62,2,2]}'>Dуна</a> are still self-links.</p>"
    },
    "Self-link in language variants": {
        "wt2html": "<p data-parsoid='{\"dsr\":[0,59,0,0]}'>Both <a rel=\"mw:WikiLink\" href=\"./Dunav\" class=\"mw-selflink selflink\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Dunav\"},\"sa\":{\"href\":\"Dunav\"},\"dsr\":[5,14,2,2]}'>Dunav</a> and <a rel=\"mw:WikiLink\" href=\"./Дунав?action=edit&amp;redlink=1\" title=\"Дунав\" class=\"new\" typeof=\"mw:LocalizedAttrs\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Дунав\"},\"sa\":{\"href\":\"Дунав\"},\"dsr\":[19,33,2,2]}' data-mw-i18n='{\"title\":{\"lang\":\"x-page\",\"key\":\"red-link-title\",\"params\":[\"Дунав\"]}}'>Дунав</a> are names for this river.</p>",
        "html2html": "<p data-parsoid='{\"dsr\":[0,59,0,0]}'>Both <a rel=\"mw:WikiLink\" href=\"./Dunav\" class=\"mw-selflink selflink\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Dunav\"},\"sa\":{\"href\":\"Dunav\"},\"dsr\":[5,14,2,2]}'>Dunav</a> and <a rel=\"mw:WikiLink\" href=\"./Дунав?action=edit&amp;redlink=1\" title=\"Дунав\" class=\"new\" typeof=\"mw:LocalizedAttrs\" data-parsoid='{\"stx\":\"simple\",\"a\":{\"href\":\"./Дунав\"},\"sa\":{\"href\":\"Дунав\"},\"dsr\":[19,33,2,2]}' data-mw-i18n='{\"title\":{\"lang\":\"x-page\",\"key\":\"red-link-title\",\"params\":[\"Дунав\"]}}'>Дунав</a> are names for this river.</p>"
    },
    "T153140: Don't break table handling if language converter markup is in the cell.": {
        "wt2wt": "{|\n|-\n|<nowiki/>-{R|B}-\n|}",
        "selser [2]": "a5ione\n{|\n|-\n| -{R|B}-\n|}",
        "selser [[0,[1,0]]]": "{|\n|- data-foobar=\"1gyt116\"\n| -{R|B}-\n|}",
        "selser [[3,1]]": "{|\n|-\n| -{R|B}-\n|}",
        "selser [1]": "{| data-foobar=\"6y5vda\"\n|-\n| -{R|B}-\n|}",
        "selser [[2,1]]": "{|<!--m84v5d-->\n|-\n| -{R|B}-\n|}",
        "selser [[4,2]]": "{|<!--1868jd--><!--1d0w5t2-->\n|-\n| -{R|B}-\n|}",
        "selser [[0,[1,2]]]": "{|\n|- data-foobar=\"1i6qbai\"\n| -{R|B}-<!--17qpaqz-->\n|}",
        "selser [[0,[[0,2],4]]]": "{|\n|-\n|1owe1ce\n| -{R|B}-<!--a2zy4x-->\n|}",
        "selser [[4,1]]": "{|<!--1i1athc-->\n|-\n| -{R|B}-\n|}"
    }
}
